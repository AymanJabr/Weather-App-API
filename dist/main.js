(()=>{let e="",n=[],t="",r="",i="",a="",o="",d="",m=!0;const u=document.getElementById("location"),c=document.getElementById("longitude"),l=document.getElementById("latitude"),L=document.getElementById("temperature"),g=document.getElementById("pressure"),T=document.getElementById("humidity"),h=document.getElementById("description"),p=document.getElementById("weatherIcon"),M=document.getElementById("locationSearch"),s=document.getElementById("searchLocationButton"),H=document.getElementById("change-temperature"),y=document.getElementById("error-message");s.addEventListener("click",(()=>{d=M.value,d=d.trim(),null!=d&&""!==d||(d="London"),fetch(`http://api.openweathermap.org/data/2.5/weather?q=${d}&appid=2ae79583e0f2d3eb58119b55bbb02972`,{mode:"cors"}).then((e=>e.json())).then((d=>{e=d.name,n=[d.coord.lon,d.coord.lat],t=Math.round(Number(d.main.temp)-273),r=d.main.pressure,i=d.main.humidity,a=d.weather[0].description,o=d.weather[0].icon,y.innerHTML="",u.innerHTML="Current Location: ",l.innerHTML="Latitude: ",c.innerHTML="Longitude: ",L.innerHTML="Average Temperature (C): ",g.innerHTML="Pressure (mbar): ",T.innerHTML="Humidity (percentage): ",h.innerHTML="Cloud Conditions: ",u.innerHTML+=e,l.innerHTML+=n[1],c.innerHTML+=n[0],L.innerHTML+=t,g.innerHTML+=r,T.innerHTML+=i,h.innerHTML+=a,p.src=`http://openweathermap.org/img/w/${o}.png`})).catch((e=>{y.innerHTML="Please Enter a valid City Name"}))})),H.addEventListener("click",(()=>{m?(m=!1,H.innerHTML="Change Temperature to Celsius",L.innerHTML=`Average Temperature (F): ${Math.round(9*t/5+32)}`):(m=!0,H.innerHTML="Change Temperature to Fahrenheit",L.innerHTML=`Average Temperature (C): ${t}`)}))})();